parameters:
  workingDirectory: ''
  serviceConnection: ''

steps:
# -----------------------------
# Terraform Plan
# -----------------------------
- task: TerraformTaskV4@4
  displayName: 'Terraform Plan'
  inputs:
    provider: azurerm
    command: plan
    workingDirectory: ${{ parameters.workingDirectory }}
    environmentServiceNameAzureRM: ${{ parameters.serviceConnection }}
    commandOptions: '-var-file=var.tfvars -out=tfplan -input=false'
